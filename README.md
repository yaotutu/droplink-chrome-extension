# Droplink - è·¨è®¾å¤‡é“¾æ¥åˆ†äº«æ‰©å±•

<div align="center">

**ä¸€é”®ä»æ‰‹æœºå‘é€é“¾æ¥ï¼Œè‡ªåŠ¨åœ¨ç”µè„‘æµè§ˆå™¨æ‰“å¼€**

[![Chrome Web Store](https://img.shields.io/badge/Chrome-Web%20Store-blue?logo=google-chrome)](https://chrome.google.com/webstore)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-1.0.0-orange.svg)](package.json)

[English](README_EN.md) | ç®€ä½“ä¸­æ–‡

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

**Droplink** æ˜¯ä¸€ä¸ªåŸºäº [Plasmo](https://docs.plasmo.com/) æ¡†æ¶å¼€å‘çš„ Chrome æµè§ˆå™¨æ‰©å±•ï¼Œé€šè¿‡ WebSocket å®æ—¶è¿æ¥ Gotify æœåŠ¡å™¨ï¼Œè®©ä½ èƒ½å¤Ÿä»ä»»ä½•è®¾å¤‡ï¼ˆæ‰‹æœºã€å¹³æ¿ã€å…¶ä»–ç”µè„‘ï¼‰å¿«é€Ÿå‘é€é“¾æ¥åˆ°æµè§ˆå™¨å¹¶è‡ªåŠ¨æ‰“å¼€ã€‚

### ğŸ¯ ä½¿ç”¨åœºæ™¯

- ğŸ“± **ç§»åŠ¨ç«¯åˆ†äº«**ï¼šåœ¨æ‰‹æœºä¸Šçœ‹åˆ°æœ‰è¶£çš„æ–‡ç« ï¼Œä¸€é”®å‘é€åˆ°ç”µè„‘æµè§ˆå™¨æ‰“å¼€
- ğŸ¤– **è‡ªåŠ¨åŒ–è„šæœ¬**ï¼šè„šæœ¬ä»»åŠ¡å®Œæˆåè‡ªåŠ¨æ‰“å¼€ç»“æœé¡µé¢
- ğŸ”— **è¿œç¨‹æ§åˆ¶**ï¼šä»ä»»ä½•åœ°æ–¹è¿œç¨‹æ§åˆ¶æµè§ˆå™¨æ‰“å¼€ç‰¹å®šç½‘é¡µ
- ğŸ“‹ **è·¨è®¾å¤‡åä½œ**ï¼šå›¢é˜Ÿæˆå‘˜ä¹‹é—´å¿«é€Ÿåˆ†äº«é“¾æ¥

### âœ¨ æ ¸å¿ƒç‰¹æ€§

- âœ… **å®æ—¶è¿æ¥**ï¼šWebSocket é•¿è¿æ¥ï¼Œæ¶ˆæ¯å³æ—¶é€è¾¾
- âœ… **è‡ªåŠ¨é‡è¿**ï¼šç½‘ç»œæ–­å¼€è‡ªåŠ¨é‡è¿ï¼Œé‡‡ç”¨æŒ‡æ•°é€€é¿ç­–ç•¥
- âœ… **æ™ºèƒ½è¿‡æ»¤**ï¼šæ”¯æŒæ ‡ç­¾è¿‡æ»¤ï¼Œåªæ¥æ”¶ä½ å…³å¿ƒçš„æ¶ˆæ¯
- âœ… **å¤šç§ç™»å½•**ï¼šæ”¯æŒé‚®ç®±éªŒè¯ç ç™»å½•å’Œ Token ç›´è¿
- âœ… **çŠ¶æ€å¯è§†**ï¼šæ‰©å±•å›¾æ ‡å®æ—¶æ˜¾ç¤ºè¿æ¥çŠ¶æ€
- âœ… **å®‰å…¨å¯é **ï¼šé…ç½®åŠ å¯†å­˜å‚¨ï¼Œæ¶ˆæ¯æ ¼å¼ä¸¥æ ¼éªŒè¯
- âœ… **å¼€æºå…è´¹**ï¼šå®Œå…¨å¼€æºï¼Œå¯è‡ªå»ºæœåŠ¡å™¨

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Chrome æµè§ˆå™¨ 116+
- Gotify æœåŠ¡å™¨ï¼ˆ[è‡ªå»ºæ•™ç¨‹](#gotify-æœåŠ¡å™¨é…ç½®)ï¼‰
- Node.js 16+ å’Œ pnpmï¼ˆå¼€å‘éœ€è¦ï¼‰

### å®‰è£…æ‰©å±•

#### æ–¹å¼ä¸€ï¼šä» Chrome åº”ç”¨å•†åº—å®‰è£…ï¼ˆæ¨èï¼‰

1. è®¿é—® [Chrome Web Store](https://chrome.google.com/webstore)
2. æœç´¢ "Droplink"
3. ç‚¹å‡»"æ·»åŠ è‡³ Chrome"

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å®‰è£…å¼€å‘ç‰ˆ

1. ä¸‹è½½æœ€æ–°çš„ [Release](https://github.com/yourusername/droplink/releases)
2. è§£å‹ ZIP æ–‡ä»¶
3. æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œè®¿é—® `chrome://extensions/`
4. å¼€å¯å³ä¸Šè§’çš„"å¼€å‘è€…æ¨¡å¼"
5. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"ï¼Œé€‰æ‹©è§£å‹åçš„æ–‡ä»¶å¤¹

---

## ğŸ“ ä½¿ç”¨æŒ‡å—

### 1. é…ç½® Gotify æœåŠ¡å™¨

#### è·å–å®¢æˆ·ç«¯ Token

1. æ‰“å¼€ Gotify Web ç•Œé¢å¹¶ç™»å½•
2. ç‚¹å‡»å³ä¸Šè§’çš„ **âš™ï¸ è®¾ç½®**
3. åœ¨å·¦ä¾§èœå•é€‰æ‹© **"Clients"ï¼ˆå®¢æˆ·ç«¯ï¼‰**ï¼ˆâš ï¸ ä¸æ˜¯ "Apps"ï¼‰
4. ç‚¹å‡» **"Create Client"** æŒ‰é’®
5. å¡«å†™å®¢æˆ·ç«¯åç§°ï¼ˆå¦‚ "Droplink Chrome Extension"ï¼‰
6. å¤åˆ¶ç”Ÿæˆçš„**å®¢æˆ·ç«¯ Token**

#### é…ç½® CORSï¼ˆé‡è¦ï¼‰

Gotify æœåŠ¡å™¨éœ€è¦é…ç½® CORS æ‰èƒ½å…è®¸æµè§ˆå™¨æ‰©å±•è¿æ¥ã€‚

**Docker æ–¹å¼**ï¼ˆæ¨èï¼‰ï¼š

```bash
docker run -d \
  --name gotify \
  -p 2345:80 \
  -e GOTIFY_SERVER_CORS_ALLOWORIGINS="*" \
  -v /path/to/data:/app/data \
  gotify/server
```

**Docker Compose**ï¼š

```yaml
services:
  gotify:
    image: gotify/server
    ports:
      - "2345:80"
    environment:
      - GOTIFY_SERVER_CORS_ALLOWORIGINS=*
    volumes:
      - ./data:/app/data
```

**é…ç½®æ–‡ä»¶æ–¹å¼**ï¼š

ç¼–è¾‘ `config.yml`ï¼š

```yaml
server:
  cors:
    alloworigins:
      - "*"
```

### 2. é…ç½®æ‰©å±•

1. ç‚¹å‡»æµè§ˆå™¨å·¥å…·æ çš„ Droplink æ‰©å±•å›¾æ ‡
2. é€‰æ‹©ç™»å½•æ–¹å¼ï¼š
   - **é‚®ç®±éªŒè¯ç ç™»å½•**ï¼šè¾“å…¥é‚®ç®±ï¼Œè·å–éªŒè¯ç åç™»å½•
   - **Token ç™»å½•**ï¼šç›´æ¥è¾“å…¥ Gotify æœåŠ¡å™¨åœ°å€å’Œå®¢æˆ·ç«¯ Token
3. ç™»å½•æˆåŠŸåï¼Œæ‰©å±•ä¼šè‡ªåŠ¨è¿æ¥åˆ° Gotify æœåŠ¡å™¨

### 3. å‘é€æµ‹è¯•æ¶ˆæ¯

#### ä½¿ç”¨ curlï¼š

```bash
curl -X POST "http://ä½ çš„æœåŠ¡å™¨:2345/message?token=åº”ç”¨TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Droplink æµ‹è¯•",
    "message": "æ‰“å¼€ Google",
    "priority": 5,
    "extras": {
      "droplink": {
        "content": {
          "type": "url",
          "value": "https://www.google.com"
        },
        "actions": [
          {
            "type": "openTab",
            "params": {
              "activate": true
            }
          }
        ]
      }
    }
  }'
```

**æ³¨æ„**ï¼šè¿™é‡Œä½¿ç”¨çš„æ˜¯**åº”ç”¨ Token**ï¼ˆç”¨äºå‘é€æ¶ˆæ¯ï¼‰ï¼Œä¸æ˜¯å®¢æˆ·ç«¯ Tokenï¼

#### ä½¿ç”¨ Pythonï¼š

```python
import requests

def send_droplink(gotify_url, app_token, url, title="æ‰“å¼€é“¾æ¥"):
    """å‘é€ Droplink æ¶ˆæ¯"""
    payload = {
        "title": title,
        "message": f"æ‰“å¼€é“¾æ¥: {url}",
        "priority": 5,
        "extras": {
            "droplink": {
                "content": {
                    "type": "url",
                    "value": url
                },
                "actions": [
                    {
                        "type": "openTab",
                        "params": {
                            "activate": True
                        }
                    }
                ]
            }
        }
    }

    response = requests.post(
        f"{gotify_url}/message?token={app_token}",
        json=payload
    )
    return response.json()

# ä½¿ç”¨ç¤ºä¾‹
send_droplink(
    "http://111.228.1.24:2345",
    "ä½ çš„åº”ç”¨TOKEN",
    "https://github.com"
)
```

### 4. è¿æ¥çŠ¶æ€è¯´æ˜

æ‰©å±•å›¾æ ‡å³ä¸‹è§’çš„å¾½ç« é¢œè‰²è¡¨ç¤ºè¿æ¥çŠ¶æ€ï¼š

| å¾½ç«  | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| ğŸŸ¢ ç»¿è‰²åœ†ç‚¹ | å·²è¿æ¥ | æ­£å¸¸å·¥ä½œä¸­ |
| ğŸŸ¡ é»„è‰²åœ†ç‚¹ | è¿æ¥ä¸­ | æ­£åœ¨å»ºç«‹è¿æ¥ |
| ğŸŸ  æ©™è‰²åœ†ç‚¹ | é‡è¿ä¸­ | ç½‘ç»œæ–­å¼€ï¼Œæ­£åœ¨é‡è¿ |
| ğŸ”´ çº¢è‰²æ„Ÿå¹å· | è¿æ¥é”™è¯¯ | é…ç½®é”™è¯¯æˆ–æœåŠ¡å™¨ä¸å¯è¾¾ |

---

## ğŸ”§ å¼€å‘æŒ‡å—

### ç¯å¢ƒå‡†å¤‡

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/yourusername/droplink-chrome-extension.git
cd droplink-chrome-extension

# å®‰è£…ä¾èµ–ï¼ˆæ¨èä½¿ç”¨ pnpmï¼‰
pnpm install
# æˆ–
npm install
```

### å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆæ”¯æŒçƒ­é‡è½½ï¼‰
pnpm dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# æ‰“åŒ…ä¸º ZIPï¼ˆç”¨äºå‘å¸ƒï¼‰
pnpm package
```

### åŠ è½½å¼€å‘ç‰ˆæ‰©å±•

1. è¿è¡Œ `pnpm dev` å¯åŠ¨å¼€å‘æœåŠ¡å™¨
2. æ‰“å¼€ Chrome æµè§ˆå™¨ï¼Œè®¿é—® `chrome://extensions/`
3. å¼€å¯"å¼€å‘è€…æ¨¡å¼"
4. ç‚¹å‡»"åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº"
5. é€‰æ‹©é¡¹ç›®çš„ `build/chrome-mv3-dev` ç›®å½•

### è°ƒè¯•æŠ€å·§

#### æŸ¥çœ‹ Popup æ—¥å¿—ï¼š
1. ç‚¹å‡»æ‰©å±•å›¾æ ‡æ‰“å¼€å¼¹å‡ºçª—å£
2. å³é”®ç‚¹å‡»å¼¹å‡ºçª—å£ï¼Œé€‰æ‹© **"æ£€æŸ¥"**
3. åœ¨ Console æ ‡ç­¾æŸ¥çœ‹æ—¥å¿—

#### æŸ¥çœ‹ Background Service Worker æ—¥å¿—ï¼š
1. æ‰“å¼€ `chrome://extensions/`
2. æ‰¾åˆ° Droplink æ‰©å±•
3. ç‚¹å‡» **"Service Worker"** çš„è“è‰²é“¾æ¥
4. åœ¨ Console æ ‡ç­¾æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

#### æ—¥å¿—è¿‡æ»¤ï¼š

åœ¨æ§åˆ¶å°ä¸­è¾“å…¥ä»¥ä¸‹å…³é”®è¯è¿‡æ»¤æ—¥å¿—ï¼š
- `Droplink`
- `GotifyClient`
- `MessageRouter`
- `ConnectionManager`

---

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### ç›®å½•ç»“æ„

```
droplink-chrome-extension/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ background.ts              # åå°æœåŠ¡å…¥å£
â”‚   â”œâ”€â”€ popup.tsx                  # Popup é¡µé¢å…¥å£
â”‚   â”œâ”€â”€ options.tsx                # Options é¡µé¢å…¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ background/                # åå°ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ connection-manager.ts  # è¿æ¥ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ icon-manager.ts        # å›¾æ ‡çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ runtime-message-handler.ts  # Runtime æ¶ˆæ¯å¤„ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                      # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ gotify/                # Gotify å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â”œâ”€â”€ client.ts          # WebSocket å®¢æˆ·ç«¯
â”‚   â”‚   â”‚   â””â”€â”€ auth.ts            # è®¤è¯é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ messaging/             # æ¶ˆæ¯å¤„ç†ç³»ç»Ÿ
â”‚   â”‚   â”‚   â”œâ”€â”€ router.ts          # æ¶ˆæ¯è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ context.ts         # ä¾èµ–æ³¨å…¥å®¹å™¨
â”‚   â”‚   â”‚   â””â”€â”€ handlers/          # æ¶ˆæ¯å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ storage/               # é…ç½®å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ tabs/                  # æ ‡ç­¾é¡µç®¡ç†
â”‚   â”‚   â””â”€â”€ notifications/         # é€šçŸ¥ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                     # UI é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ popup/                 # Popup é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ components/        # StatusCard, FeatureInfo, WarningCard
â”‚   â”‚   â”‚   â””â”€â”€ hooks/             # usePopupState
â”‚   â”‚   â””â”€â”€ options/               # Options é¡µé¢
â”‚   â”‚       â”œâ”€â”€ components/        # LoginForm, ConfigCard, FeatureToggles ç­‰
â”‚   â”‚       â””â”€â”€ hooks/             # useOptionsState
â”‚   â”‚
â”‚   â””â”€â”€ shared/                    # å…±äº«ä»£ç 
â”‚       â”œâ”€â”€ components/            # é€šç”¨ç»„ä»¶ï¼ˆSwitch ç­‰ï¼‰
â”‚       â”œâ”€â”€ hooks/                 # useConfig, useStatus, useRuntimeMessage
â”‚       â”œâ”€â”€ store/                 # Zustand çŠ¶æ€ç®¡ç†
â”‚       â”œâ”€â”€ types/                 # TypeScript ç±»å‹å®šä¹‰
â”‚       â””â”€â”€ utils/                 # å·¥å…·å‡½æ•°å’Œå¸¸é‡
â”‚
â”œâ”€â”€ assets/                        # é™æ€èµ„æºï¼ˆå›¾æ ‡ç­‰ï¼‰
â”œâ”€â”€ docs/                          # æ–‡æ¡£
â”œâ”€â”€ package.json                   # é¡¹ç›®é…ç½®
â”œâ”€â”€ tsconfig.json                  # TypeScript é…ç½®
â”œâ”€â”€ .prettierrc.mjs                # Prettier é…ç½®
â”œâ”€â”€ CLAUDE.md                      # Claude Code æŒ‡å—
â””â”€â”€ README.md                      # æœ¬æ–‡ä»¶
```

### æŠ€æœ¯æ ˆ

- **æ¡†æ¶**ï¼šPlasmo 0.90.5
- **UI åº“**ï¼šReact 18.2.0
- **çŠ¶æ€ç®¡ç†**ï¼šZustand 5.0.9
- **è¯­è¨€**ï¼šTypeScript 5.3.3
- **åŒ…ç®¡ç†å™¨**ï¼špnpmï¼ˆæ¨èï¼‰
- **ä»£ç æ ¼å¼åŒ–**ï¼šPrettier 3.2.4

### æ ¸å¿ƒæ¨¡å—è¯´æ˜

#### 1. åå°æœåŠ¡ï¼ˆsrc/background/ï¼‰
- **connection-manager.ts**ï¼šç®¡ç† Gotify WebSocket è¿æ¥å’ŒçŠ¶æ€
- **icon-manager.ts**ï¼šæ ¹æ®è¿æ¥çŠ¶æ€æ›´æ–°æ‰©å±•å›¾æ ‡å¾½ç« 
- **runtime-message-handler.ts**ï¼šå¤„ç†æ¥è‡ª UI çš„ runtime æ¶ˆæ¯

#### 2. æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼ˆsrc/core/ï¼‰
- **gotify/**ï¼šWebSocket å®¢æˆ·ç«¯å’Œè®¤è¯é€»è¾‘
- **messaging/**ï¼šæ¶ˆæ¯è·¯ç”±å’Œå¤„ç†ç³»ç»Ÿï¼ˆä¾èµ–æ³¨å…¥æ¨¡å¼ï¼‰
- **storage/**ï¼šé…ç½®å­˜å‚¨å’ŒéªŒè¯
- **tabs/**ï¼šæ ‡ç­¾é¡µåˆ›å»ºå’Œç®¡ç†
- **notifications/**ï¼šæµè§ˆå™¨é€šçŸ¥

#### 3. UI é¡µé¢ï¼ˆsrc/pages/ï¼‰
- **popup/**ï¼šçŠ¶æ€å±•ç¤ºé¡µé¢
- **options/**ï¼šé…ç½®å’Œç™»å½•é¡µé¢

#### 4. å…±äº«ä»£ç ï¼ˆsrc/shared/ï¼‰
- **hooks/**ï¼šReact Hooksï¼ˆuseConfig, useStatus, useRuntimeMessageï¼‰
- **store/**ï¼šZustand å…¨å±€çŠ¶æ€
- **types/**ï¼šTypeScript ç±»å‹å®šä¹‰
- **utils/**ï¼šå·¥å…·å‡½æ•°å’Œå¸¸é‡

### æ¶æ„ç‰¹ç‚¹

- âœ… **ä¾èµ–æ³¨å…¥**ï¼šä½¿ç”¨ MessageContext è§£è€¦æ¨¡å—ä¾èµ–
- âœ… **ä»£ç å¤ç”¨**ï¼šå…±äº« Hooks æ¶ˆé™¤é‡å¤ä»£ç 
- âœ… **ç»„ä»¶åŒ–è®¾è®¡**ï¼šå•ä¸€èŒè´£åŸåˆ™ï¼Œæ˜“äºç»´æŠ¤
- âœ… **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
- âœ… **çŠ¶æ€ç®¡ç†**ï¼šZustand è½»é‡çº§çŠ¶æ€ç®¡ç†

---

## ğŸ“‹ Gotify æ¶ˆæ¯æ ¼å¼

### Droplink æ¶ˆæ¯è§„èŒƒ

Droplink ä½¿ç”¨ Gotify æ¶ˆæ¯çš„ `extras.droplink` å­—æ®µæ¥ä¼ é€’æ§åˆ¶æŒ‡ä»¤ï¼š

```json
{
  "title": "æ¶ˆæ¯æ ‡é¢˜",
  "message": "æ¶ˆæ¯å†…å®¹",
  "priority": 5,
  "extras": {
    "droplink": {
      "content": {
        "type": "url",
        "value": "https://example.com"
      },
      "actions": [
        {
          "type": "openTab",
          "params": {
            "activate": true
          }
        }
      ],
      "metadata": {
        "tags": ["work", "important"]
      }
    }
  }
}
```

### å­—æ®µè¯´æ˜

| å­—æ®µ | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `content.type` | string | æ˜¯ | å†…å®¹ç±»å‹ï¼Œå›ºå®šä¸º `"url"` |
| `content.value` | string | æ˜¯ | è¦æ‰“å¼€çš„ URL |
| `actions[].type` | string | æ˜¯ | æ“ä½œç±»å‹ï¼Œå›ºå®šä¸º `"openTab"` |
| `actions[].params.activate` | boolean | å¦ | æ˜¯å¦æ¿€æ´»æ ‡ç­¾é¡µï¼Œé»˜è®¤ `true` |
| `metadata.tags` | string[] | å¦ | æ¶ˆæ¯æ ‡ç­¾ï¼Œç”¨äºè¿‡æ»¤ |

### æ¶ˆæ¯éªŒè¯è§„åˆ™

- å¿…é¡»åŒ…å« `extras.droplink` å­—æ®µ
- `content.type` å¿…é¡»ä¸º `"url"`
- `content.value` å¿…é¡»æ˜¯æœ‰æ•ˆçš„ HTTP/HTTPS URL
- `actions` æ•°ç»„è‡³å°‘åŒ…å«ä¸€ä¸ª `openTab` æ“ä½œ
- é Droplink æ ¼å¼çš„æ¶ˆæ¯ä¼šè¢«é™é»˜å¿½ç•¥

---

## â“ å¸¸è§é—®é¢˜

### 1. æµ‹è¯•è¿æ¥å¤±è´¥ï¼ˆ403 é”™è¯¯ï¼‰

**åŸå› **ï¼š
- ä½¿ç”¨äº†é”™è¯¯çš„ Token ç±»å‹ï¼ˆåº”ç”¨ Token è€Œéå®¢æˆ·ç«¯ Tokenï¼‰
- Gotify æœåŠ¡å™¨æœªé…ç½® CORS

**è§£å†³**ï¼š
- ç¡®è®¤ä½¿ç”¨çš„æ˜¯**å®¢æˆ·ç«¯ Token**ï¼ˆä» Clients è€Œé Apps è·å–ï¼‰
- é…ç½® Gotify æœåŠ¡å™¨çš„ CORS è®¾ç½®ï¼ˆè§ä¸Šæ–‡ï¼‰

### 2. æ”¶åˆ°æ¶ˆæ¯ä½†æ²¡æœ‰æ‰“å¼€æ ‡ç­¾é¡µ

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥ Service Worker æ§åˆ¶å°æ—¥å¿—
2. ç¡®è®¤æ¶ˆæ¯æ ¼å¼æ­£ç¡®ï¼ˆåŒ…å« `extras.droplink` å­—æ®µï¼‰
3. ç¡®è®¤ URL ä»¥ `http://` æˆ– `https://` å¼€å¤´
4. æŸ¥çœ‹æ˜¯å¦æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯

### 3. è¿æ¥çŠ¶æ€æ˜¾ç¤º"æœªè¿æ¥"

**å¯èƒ½åŸå› **ï¼š
- é…ç½®æœªæ­£ç¡®ä¿å­˜
- æœåŠ¡å™¨åœ°å€æˆ– Token é”™è¯¯
- ç½‘ç»œæ— æ³•è®¿é—® Gotify æœåŠ¡å™¨
- Gotify æœåŠ¡å™¨ CORS æœªé…ç½®

**è§£å†³æ–¹æ³•**ï¼š
- æ£€æŸ¥é…ç½®ä¿¡æ¯æ˜¯å¦æ­£ç¡®
- ç¡®è®¤ Gotify æœåŠ¡å™¨å·²é…ç½® CORS
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- æŸ¥çœ‹ Service Worker æ§åˆ¶å°æ—¥å¿—

### 4. Token çš„åŒºåˆ«

Gotify æœ‰ä¸¤ç§ Tokenï¼š

| Token ç±»å‹ | ç”¨é€” | è·å–ä½ç½® |
|-----------|------|---------|
| åº”ç”¨ Token | **å‘é€**æ¶ˆæ¯åˆ° Gotify | Settings â†’ Apps |
| å®¢æˆ·ç«¯ Token | **æ¥æ”¶**æ¶ˆæ¯ä» Gotify | Settings â†’ Clients |

**Droplink æ‰©å±•ä½¿ç”¨å®¢æˆ·ç«¯ Token æ¥æ”¶æ¶ˆæ¯ã€‚**
**å‘é€æ¶ˆæ¯çš„è„šæœ¬ä½¿ç”¨åº”ç”¨ Tokenã€‚**

---

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

1. **Token å®‰å…¨**ï¼š
   - Token å­˜å‚¨åœ¨ `chrome.storage.sync` ä¸­ï¼ˆåŠ å¯†ï¼‰
   - ä¸è¦åœ¨ä¸å®‰å…¨çš„è®¾å¤‡ä¸Šä½¿ç”¨
   - å®šæœŸæ›´æ¢ Token

2. **URL å®‰å…¨**ï¼š
   - ç›®å‰åªéªŒè¯ URL æ ¼å¼ï¼ˆhttp/httpsï¼‰
   - å»ºè®®åœ¨ Gotify ä¸­ä¸º Droplink åˆ›å»ºä¸“ç”¨çš„åº”ç”¨

3. **æ¶ˆæ¯éªŒè¯**ï¼š
   - é Droplink æ ¼å¼çš„æ¶ˆæ¯ä¼šè¢«å¿½ç•¥
   - æ”¯æŒæ ‡ç­¾è¿‡æ»¤ï¼Œåªæ¥æ”¶ç‰¹å®šæ ‡ç­¾çš„æ¶ˆæ¯

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### ä»£ç è§„èŒƒ

- ä½¿ç”¨ Prettier æ ¼å¼åŒ–ä»£ç 
- éµå¾ª TypeScript æœ€ä½³å®è·µ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œ

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [Plasmo å®˜æ–¹æ–‡æ¡£](https://docs.plasmo.com/)
- [Gotify å®˜æ–¹æ–‡æ¡£](https://gotify.net/)
- [Chrome Extension API](https://developer.chrome.com/docs/extensions/reference/)
- [é—®é¢˜åé¦ˆ](https://github.com/yourusername/droplink/issues)

---

## ğŸ“® è”ç³»æ–¹å¼

- ä½œè€…ï¼šyaotutu
- é¡¹ç›®ä¸»é¡µï¼šhttps://github.com/yourusername/droplink
- é—®é¢˜åé¦ˆï¼šhttps://github.com/yourusername/droplink/issues

---

<div align="center">

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ Star æ”¯æŒä¸€ä¸‹ï¼**

Made with â¤ï¸ by yaotutu

</div>
