name: Chrome Extension Main Build

on:
  # 推送到 master 分支时触发
  push:
    branches:
      - master

  # PR 检查
  pull_request:
    branches:
      - master

  # 允许手动触发
  workflow_dispatch:

jobs:
  build:
    name: 构建 Release 版本
    uses: ./.github/workflows/build-shared.yml
    with:
      branch_name: master
      release_tag: main-latest
      release_title: "✅ 正式版 (最新稳定版)"
      use_commit_count: false
      file_prefix: "droplink-v"
      is_prerelease: false
      create_version_tag: true
